(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{10:function(t,e,n){},11:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),c=n(5),o=n.n(c),u=(n(10),n(2)),i=(n(11),n(0));var s=function(t){var e=t.playerBoard,n=t.computerBoard,r=function(e){t.handleClick(e.target.textContent)};return Object(i.jsxs)("div",{className:"Boards",children:[Object(i.jsx)("h2",{className:"PlayerBoardHeader",children:"Player Board"}),Object(i.jsx)("div",{className:"PlayerBoard",children:e.board.map((function(t){return t.map((function(t){return Object(i.jsx)("div",{className:"PlayerCell",children:t},t)}))}))}),Object(i.jsx)("h2",{className:"ComputerBoardHeader",children:"Computer Board"}),Object(i.jsx)("div",{className:"ComputerBoard",children:n.board.map((function(t){return t.map((function(t){return n.missedAttacks.includes(t)?Object(i.jsx)("div",{className:"ComputerCell",onClick:r,children:"O"},t):Object(i.jsx)("div",{className:"ComputerCell",onClick:r,children:t},t)}))}))})]})},l=n(4);var d=function(){var t=[],e=[];return{board:function(){var t=l.range(1,11),e=l.range(65,75).map((function(t){return String.fromCharCode(t)}));return t.map((function(t){return e.map((function(e){return"".concat(e).concat(t)}))}))}(),placeShip:function(e,n){return t.push([n,e]),t},receiveAttack:function(n){for(var r=0;r<t.length;r++){var a=t[r];if(a[1].includes(n)){var c=a[1].findIndex((function(t){return t===n}));return void a[0].hit(c)}}e.push(n)},occupiedCoords:t,missedAttacks:e,allShipsSunk:function(){var e=0;return t.forEach((function(t){t[0].isSunk()&&(e+=1)})),10===e}}};var f=function(t){var e=Array.from({length:t}).map((function(){return""}));return{hull:e,hit:function(t){e[t]="X"},isSunk:function(){return e.every((function(t){return"X"===t}))}}},h=n(4);var p=function(){var t=[];return{humanAttack:function(e){if(t.includes(e))throw new Error("You cannot attack the same cell twice!");return t.push(e),t},computerAttack:function(){for(var e=h.range(1,11),n=h.range(65,75).map((function(t){return String.fromCharCode(t)})),r=e.map((function(t){return n.map((function(e){return"".concat(e).concat(t)}))}));;){var a=Math.floor(10*Math.random()),c=Math.floor(10*Math.random()),o=r[a][c];if(!t.includes(o))return t.push(o),t}},attacks:t}};var m=function(){var t=Object(r.useState)(d()),e=Object(u.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)(d()),o=Object(u.a)(c,2),l=o[0],h=o[1],m=Object(r.useState)(p()),j=Object(u.a)(m,2),b=j[0],v=j[1],O=Object(r.useState)(p()),C=Object(u.a)(O,2),k=(C[0],C[1],[["A1","A2","A3","A4"],["B1","B2","B3"],["C1","C2","C3"],["D1","D2"],["E1","E2"],["F1","F2"],["G1"],["H1"],["I1"],["J1"]]),B=[["J7","J8","J9","J10"],["I8","I9","I10"],["H8","H9","H10"],["G9","G10"],["F9","F10"],["E9","E10"],["D10"],["C10"],["B10"],["A10"]],x=function(t,e){"Player"===t?e.forEach((function(t){n.placeShip(t,f(t.length)),a(n)})):e.forEach((function(t){l.placeShip(t,f(t.length)),h(l)}))};return Object(r.useEffect)((function(){console.log("Board effect"),x("Player",k),x("Computer",B)}),[]),Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("div",{className:"Header",children:Object(i.jsx)("h1",{children:"Battleship"})}),Object(i.jsx)(s,{playerBoard:n,computerBoard:l,handleClick:function(t){try{b.humanAttack(t),l.receiveAttack(t),console.log(l),v(b),h(l)}catch(e){alert(e.message)}}})]})};o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(m,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.b2ce1e43.chunk.js.map
{"version":3,"sources":["factories/GameBoardFactory.js","factories/ShipFactory.js","components/Boards.js","App.js","index.js"],"names":["lodash","require","GameBoardFactory","occupiedCoords","missedAttacks","board","height","range","length","map","code","String","fromCharCode","num","char","createBoard","placeShip","coords","ship","push","receiveAttack","coord","forEach","pair","includes","index","findIndex","x","hit","allShipsSunk","counter","isSunk","ShipFactory","hull","Array","from","every","compartment","Boards","props","useState","playerBoard","setPlayerBoard","computerBoard","setComputerBoard","playerCoords","computerCoords","initialize","identifier","useEffect","console","log","handleClick","event","onClick","target","textContent","className","row","cell","flat","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6LAAIA,EAASC,EAAQ,IA6DNC,MA3Df,WAEE,IAAIC,EAAiB,GACjBC,EAAgB,GA8CpB,MAAO,CACLC,MA7CkB,WAClB,IAAMC,EAASN,EAAOO,MAAM,EAAG,IACzBC,EAASR,EAAOO,MAAM,GAAI,IAAIE,KAAI,SAACC,GAAD,OAAUC,OAAOC,aAAaF,MAMtE,OALcJ,EAAOG,KAAI,SAACI,GACxB,OAAOL,EAAOC,KAAI,SAACK,GACjB,MAAM,GAAN,OAAUA,GAAV,OAAiBD,SAMTE,GAmCZC,UAjCgB,SAACC,EAAQC,GAEzB,OADAf,EAAegB,KAAK,CAACD,EAAMD,IACpBd,GAgCPiB,cA7BoB,SAACC,GAGrBlB,EAAemB,SAAQ,SAACC,GACtB,GAAIA,EAAK,GAAGC,SAASH,GAAQ,CAC3B,IAAMI,EAAQF,EAAK,GAAGG,WAAU,SAACC,GAAD,OAAOA,IAAMN,KAC7CE,EAAK,GAAGK,IAAIH,QAEZrB,EAAce,KAAKE,OAsBvBlB,iBACAC,gBACAyB,aAnBmB,WACnB,IAAIC,EAAU,EAMd,OALA3B,EAAemB,SAAQ,SAACC,GAClBA,EAAK,GAAGQ,WACVD,GAAW,MAGC,KAAZA,KC9BOE,MAff,SAAqBxB,GAEnB,IAAMyB,EAAOC,MAAMC,KAAK,CAAE3B,OAAQA,IAAUC,KAAI,iBAAM,MAUtD,MAAO,CAAEwB,OAAML,IARH,SAACH,GACXQ,EAAKR,GAAS,KAOIM,OAJL,WACb,OAAOE,EAAKG,OAAM,SAACC,GAAD,MAAiC,MAAhBA,Q,OCkGxBC,MAvGf,SAAgBC,GAAQ,IAAD,EACmBC,mBAAStC,KAD5B,mBACbuC,EADa,KACAC,EADA,OAEuBF,mBAAStC,KAFhC,mBAEbyC,EAFa,KAEEC,EAFF,KAGfC,EAAe,CACnB,CAAC,KAAM,KAAM,KAAM,MACnB,CAAC,KAAM,KAAM,MACb,CAAC,KAAM,KAAM,MACb,CAAC,KAAM,MACP,CAAC,KAAM,MACP,CAAC,KAAM,MACP,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,OAGGC,EAAiB,CACrB,CAAC,KAAM,KAAM,KAAM,OACnB,CAAC,KAAM,KAAM,OACb,CAAC,KAAM,KAAM,OACb,CAAC,KAAM,OACP,CAAC,KAAM,OACP,CAAC,KAAM,OACP,CAAC,OACD,CAAC,OACD,CAAC,OACD,CAAC,QAGGC,EAAa,SAACC,EAAY/B,GACX,WAAf+B,EACF/B,EAAOK,SAAQ,SAACD,GACdoB,EAAYzB,UAAUK,EAAOW,EAAYX,EAAMb,SAC/CkC,EAAeD,MAGjBxB,EAAOK,SAAQ,SAACD,GACdsB,EAAc3B,UAAUK,EAAOW,EAAYX,EAAMb,SACjDoC,EAAiBD,OAKvBM,qBAAU,WACRC,QAAQC,IAAI,gBACZJ,EAAW,SAAUF,GACrBE,EAAW,WAAYD,MAGzB,IAAMM,EAAc,SAACC,GACnBd,EAAMe,QAAQD,EAAME,OAAOC,cAG7B,OACE,sBAAKC,UAAU,SAAf,UACE,oBAAIA,UAAU,oBAAd,0BACA,qBAAKA,UAAU,cAAf,SACGhB,EAAYpC,MAAMI,KAAI,SAACiD,GAAD,OACrBA,EAAIjD,KAAI,SAACkD,GAAD,OACNd,EAAae,OAAOpC,SAASmC,GAC3B,qBAEEF,UAAU,aACVH,QAASF,EAHX,cACOO,GAMP,qBAEEF,UAAU,aACVH,QAASF,EAHX,SAKGO,GAJIA,WASf,oBAAIF,UAAU,sBAAd,4BACA,qBAAKA,UAAU,gBAAf,SACGd,EAActC,MAAMI,KAAI,SAACiD,GAAD,OACvBA,EAAIjD,KAAI,SAACkD,GAAD,OACNb,EAAec,OAAOpC,SAASmC,GAC7B,qBAEEF,UAAU,eACVH,QAASF,EAHX,cACOO,GAMP,qBAEEF,UAAU,eACVH,QAASF,EAHX,SAKGO,GAJIA,eC1ENE,MAjBf,WAKE,OACE,sBAAKJ,UAAU,MAAf,UACE,qBAAKA,UAAU,SAAf,SACE,8CAEF,cAAC,EAAD,CACEH,QATmB,SAACjC,GACxB6B,QAAQC,IAAI9B,UCDhByC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.5cba37f7.chunk.js","sourcesContent":["var lodash = require('lodash')\n\nfunction GameBoardFactory() {\n\n  let occupiedCoords = [];\n  let missedAttacks = [];\n\n  const createBoard = () => {\n    const height = lodash.range(1, 11);\n    const length = lodash.range(65, 75).map((code) => String.fromCharCode(code));\n    const board = height.map((num) => {\n      return length.map((char) => {\n        return `${char}${num}`;\n      });\n    });\n    return board;\n  }\n\n  const board = createBoard();\n\n  const placeShip = (coords, ship) => {\n    occupiedCoords.push([ship, coords]);\n    return occupiedCoords;\n  }\n\n  const receiveAttack = (coord) => {\n    // pair[0] is the ship\n    // pair[1] is an array of the ship coords\n    occupiedCoords.forEach((pair) => {\n      if (pair[1].includes(coord)) {\n        const index = pair[1].findIndex((x) => x === coord);\n        pair[0].hit(index);\n      } else {\n        missedAttacks.push(coord);\n      }\n    })\n  }\n\n  const allShipsSunk = () => {\n    let counter = 0;\n    occupiedCoords.forEach((pair) => {\n      if (pair[0].isSunk()) {\n        counter += 1;\n      }\n    });\n    if (counter === 10) {\n      return true;\n    }\n    return false;\n  }\n\n  return { \n    board, \n    placeShip, \n    receiveAttack, \n    occupiedCoords, \n    missedAttacks,\n    allShipsSunk \n  };\n}\n\nexport default GameBoardFactory;","function ShipFactory(length) {\n\n  const hull = Array.from({ length: length }).map(() => \"\");\n\n  const hit = (index) => {\n    hull[index] = \"X\";\n  }\n\n  const isSunk = () => {\n    return hull.every((compartment) => compartment === \"X\");\n  }\n\n  return { hull, hit, isSunk };\n}\n\nexport default ShipFactory;","import { useEffect, useState } from 'react';\nimport GameBoardFactory from '../factories/GameBoardFactory';\nimport ShipFactory from '../factories/ShipFactory';\n\nfunction Boards(props) {\n  const [ playerBoard, setPlayerBoard ] = useState(GameBoardFactory());\n  const [ computerBoard, setComputerBoard ] = useState(GameBoardFactory());\n  const playerCoords = [\n    ['A1', 'A2', 'A3', 'A4'],\n    ['B1', 'B2', 'B3'],\n    ['C1', 'C2', 'C3'],\n    ['D1', 'D2'],\n    ['E1', 'E2'],\n    ['F1', 'F2'],\n    ['G1'],\n    ['H1'],\n    ['I1'],\n    ['J1'],\n  ]\n\n  const computerCoords = [\n    ['J7', 'J8', 'J9', 'J10'],\n    ['I8', 'I9', 'I10'],\n    ['H8', 'H9', 'H10'],\n    ['G9', 'G10'],\n    ['F9', 'F10'],\n    ['E9', 'E10'],\n    ['D10'],\n    ['C10'],\n    ['B10'],\n    ['A10'],\n  ]\n\n  const initialize = (identifier, coords) => {\n    if (identifier === 'Player') {\n      coords.forEach((coord) => {\n        playerBoard.placeShip(coord, ShipFactory(coord.length))\n        setPlayerBoard(playerBoard)\n      })\n    } else {\n      coords.forEach((coord) => {\n        computerBoard.placeShip(coord, ShipFactory(coord.length))\n        setComputerBoard(computerBoard)\n      })\n    }\n  }\n\n  useEffect(() => {\n    console.log('Board effect')\n    initialize('Player', playerCoords);\n    initialize('Computer', computerCoords);\n  })\n\n  const handleClick = (event) => {\n    props.onClick(event.target.textContent)\n  }\n\n  return (\n    <div className=\"Boards\">\n      <h2 className=\"PlayerBoardHeader\">Player Board</h2>\n      <div className=\"PlayerBoard\">\n        {playerBoard.board.map((row) => (\n          row.map((cell) => (\n            playerCoords.flat().includes(cell) ? \n              <div\n                key={cell} \n                className=\"PlayerCell\"\n                onClick={handleClick}\n              >\n                S\n              </div>\n            : <div\n                key={cell} \n                className=\"PlayerCell\"\n                onClick={handleClick}\n              >\n                {cell}\n              </div>\n          ))\n        ))}\n      </div>\n      <h2 className=\"ComputerBoardHeader\">Computer Board</h2>\n      <div className=\"ComputerBoard\">\n        {computerBoard.board.map((row) => (\n          row.map((cell) => (\n            computerCoords.flat().includes(cell) ?\n              <div \n                key={cell} \n                className=\"ComputerCell\"\n                onClick={handleClick}\n              >\n                S\n              </div>\n            : <div \n                key={cell} \n                className=\"ComputerCell\"\n                onClick={handleClick}\n              >\n                {cell}\n              </div>\n          ))\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default Boards;","import './App.css';\nimport Boards from './components/Boards';\n\nfunction App() {\n\n  const handleBoardClick = (coord) => {\n    console.log(coord);\n  }\n  return (\n    <div className=\"App\">\n      <div className=\"Header\">\n        <h1>Battleship</h1>\n      </div>\n      <Boards \n        onClick={handleBoardClick}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}
(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{10:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(5),s=n.n(a),i=(n(10),n(2)),u=n.p+"static/media/black-circle.17c07aa9.svg",o=n.p+"static/media/red-circle.a8866b39.svg",l=n(0);var d=function(e){var t=e.playerBoard,n=e.computerBoard,c=function(t){e.handlePlayerTurn(t.target.textContent)};return Object(l.jsxs)("div",{className:"Boards",children:[Object(l.jsx)("h2",{className:"PlayerBoardHeader",children:"Player Board"}),Object(l.jsx)("div",{className:"PlayerBoard",children:t.board.map((function(e){return e.map((function(e){return t.missedAttacks.includes(e)?Object(l.jsx)("div",{className:"PlayerCell",children:Object(l.jsx)("img",{className:"MissIcon",src:u,alt:"Missed Attack"})},e):t.successfulAttacks.includes(e)?Object(l.jsx)("div",{className:"PlayerCell",children:Object(l.jsx)("img",{className:"HitIcon",src:o,alt:"Missed Attack"})},e):Object(l.jsx)("div",{className:"PlayerCell",children:e},e)}))}))}),Object(l.jsx)("h2",{className:"ComputerBoardHeader",children:"Computer Board"}),Object(l.jsx)("div",{className:"ComputerBoard",children:n.board.map((function(e){return e.map((function(e){return n.missedAttacks.includes(e)?Object(l.jsx)("div",{className:"ComputerCell",children:Object(l.jsx)("img",{className:"MissIcon",src:u,alt:"Missed Attack"})},e):n.successfulAttacks.includes(e)?Object(l.jsx)("div",{className:"ComputerCell",children:Object(l.jsx)("img",{className:"HitIcon",src:o,alt:"Missed Attack"})},e):Object(l.jsx)("div",{className:"ComputerCell",onClick:c,children:e},e)}))}))})]})},f=n(4);var h=function(){var e=[],t=[],n=[];return{board:function(){var e=f.range(1,11),t=f.range(65,75).map((function(e){return String.fromCharCode(e)}));return e.map((function(e){return t.map((function(t){return"".concat(t).concat(e)}))}))}(),placeShip:function(t,n){return e.push([n,t]),e},receiveAttack:function(c){for(var r=0;r<e.length;r++){var a=e[r];if(a[1].includes(c)){var s=a[1].findIndex((function(e){return e===c}));return a[0].hit(s),n.push(c),a}}t.push(c)},occupiedCoords:e,missedAttacks:t,successfulAttacks:n,allShipsSunk:function(){var t=0;return e.forEach((function(e){e[0].isSunk()&&(t+=1)})),10===t}}};var m=function(e){var t=Array.from({length:e}).map((function(){return""}));return{hull:t,hit:function(e){t[e]="X"},isSunk:function(){return t.every((function(e){return"X"===e}))}}},j=n(4);var p=function(){var e=[],t=[];return{humanAttack:function(t){if(e.includes(t))throw new Error("You cannot attack the same cell twice!");return e.push(t),e},computerAttack:function(){if(t.length>0)return e.push(t[t.length-1]),t.splice(t.length-1,1);for(var n=j.range(1,11),c=j.range(65,75).map((function(e){return String.fromCharCode(e)})),r=n.map((function(e){return c.map((function(t){return"".concat(t).concat(e)}))}));;){var a=Math.floor(10*Math.random()),s=Math.floor(10*Math.random()),i=r[a][s];if(!e.includes(i))return e.push(i),e}},attacks:e,calculateNextAttackRange:function(n,c){return function(t,n){return t.filter((function(t){return void 0!==t&&t!==n&&!e.includes(t)}))}(function(e,t){var n=[],c=e[0],r=e[1];try{[t[c-1],t[c],t[c+1]].filter((function(e){return void 0!==e})).forEach((function(e){n.push(e[r-1]),n.push(e[r]),n.push(e[r+1])}))}catch(a){console.log(a.message),console.log(n)}return n}(function(e,t){for(var n=0;n<t.length;n++){var c=t[n];if(c.includes(e))return[n,c.findIndex((function(t){return t===e}))]}}(n,c),c),n).forEach((function(e){t.includes(e)||t.push(e)})),t=j.difference(t,e)}}};var b=function(){var e=Object(c.useState)(h()),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(h()),s=Object(i.a)(a,2),u=s[0],o=s[1],f=Object(c.useState)(p()),j=Object(i.a)(f,2),b=j[0],v=j[1],O=Object(c.useState)(p()),g=Object(i.a)(O,2),k=g[0],x=g[1],A=Object(c.useState)(!0),C=Object(i.a)(A,2),N=C[0],S=C[1],y=Object(c.useState)(0),B=Object(i.a)(y,2),I=B[0],E=B[1],M=[["A1","A2","A3","A4"],["I7","I8","I9"],["B8","C8","D8"],["C5","D5"],["J1","J2"],["A10","B10"],["H7"],["G3"],["E2"],["F7"]],H=[["J7","J8","J9","J10"],["I8","I9","I10"],["H8","H9","H10"],["G9","G10"],["F9","F10"],["E9","E10"],["D10"],["C10"],["B10"],["A10"]],P=function(e,t){"Player"===e?t.forEach((function(e){n.placeShip(e,m(e.length)),r(n)})):t.forEach((function(e){u.placeShip(e,m(e.length)),o(u)}))};Object(c.useEffect)((function(){0===I&&(P("Player",M),P("Computer",H))})),Object(c.useEffect)((function(){if(u.allShipsSunk())return alert("Game over! Humans won!"),void J();setTimeout((function(){return function(){if(n.allShipsSunk())return alert("Game over! The Computers won!"),void J();if(!1===N){var e=Object.assign({},k),t=Object.assign({},n),c=e.computerAttack(),a=c[c.length-1];void 0!==t.receiveAttack(a)&&k.calculateNextAttackRange(a,t.board),r(t),x(e),S(!0),E(I+=1)}}()}),0)}),[N]);var J=function(){S(!0),v(p()),x(p()),r(h()),o(h()),E(0)};return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("div",{className:"Header",children:Object(l.jsx)("h1",{children:"Battleship"})}),N?Object(l.jsx)("div",{className:"Turn",children:"Your Turn!"}):Object(l.jsx)("div",{className:"Turn",children:"Computer's Turn!"}),Object(l.jsx)(d,{playerBoard:n,computerBoard:u,handlePlayerTurn:function(e){if(N){var t=Object.assign({},b),n=Object.assign({},u);try{n.receiveAttack(e),t.humanAttack(e),S(!1),v(t),o(n),E(I+=1)}catch(c){alert(c.message)}}}})]})};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.8d819e67.chunk.js.map
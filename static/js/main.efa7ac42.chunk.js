(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{10:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var a=c(1),r=c.n(a),n=c(5),s=c.n(n),i=(c(10),c(2)),u=c.p+"static/media/black-circle.17c07aa9.svg",o=c.p+"static/media/red-circle.a8866b39.svg",l=c(0);var d=function(e){var t=e.playerBoard,c=e.computerBoard,a=function(t){e.handlePlayerTurn(t.target.textContent)};return Object(l.jsxs)("div",{className:"Boards",children:[Object(l.jsx)("h2",{className:"PlayerBoardHeader",children:"Player Board"}),Object(l.jsx)("div",{className:"PlayerBoard",children:t.board.map((function(e){return e.map((function(e){return t.missedAttacks.includes(e)?Object(l.jsx)("div",{className:"PlayerCell",children:Object(l.jsx)("img",{className:"MissIcon",src:u,alt:"Missed Attack"})},e):t.successfulAttacks.includes(e)?Object(l.jsx)("div",{className:"PlayerCell",children:Object(l.jsx)("img",{className:"HitIcon",src:o,alt:"Missed Attack"})},e):Object(l.jsx)("div",{className:"PlayerCell",children:e},e)}))}))}),Object(l.jsx)("h2",{className:"ComputerBoardHeader",children:"Computer Board"}),Object(l.jsx)("div",{className:"ComputerBoard",children:c.board.map((function(e){return e.map((function(e){return c.missedAttacks.includes(e)?Object(l.jsx)("div",{className:"ComputerCell",children:Object(l.jsx)("img",{className:"MissIcon",src:u,alt:"Missed Attack"})},e):c.successfulAttacks.includes(e)?Object(l.jsx)("div",{className:"ComputerCell",children:Object(l.jsx)("img",{className:"HitIcon",src:o,alt:"Missed Attack"})},e):Object(l.jsx)("div",{className:"ComputerCell",onClick:a,children:e},e)}))}))})]})},m=c(4);var f=function(){var e=[],t=[],c=[];return{board:function(){var e=m.range(1,11),t=m.range(65,75).map((function(e){return String.fromCharCode(e)}));return e.map((function(e){return t.map((function(t){return"".concat(t).concat(e)}))}))}(),placeShip:function(t,c){return e.push([c,t]),e},receiveAttack:function(a){for(var r=0;r<e.length;r++){var n=e[r];if(n[1].includes(a)){var s=n[1].findIndex((function(e){return e===a}));return n[0].hit(s),c.push(a),n}}t.push(a)},occupiedCoords:e,missedAttacks:t,successfulAttacks:c,allShipsSunk:function(){var t=0;return e.forEach((function(e){e[0].isSunk()&&(t+=1)})),10===t}}};var j=function(e){var t=Array.from({length:e}).map((function(){return""}));return{hull:t,hit:function(e){t[e]="X"},isSunk:function(){return t.every((function(e){return"X"===e}))}}},h=c(4);var p=function(){var e=[];return{humanAttack:function(t){if(e.includes(t))throw new Error("You cannot attack the same cell twice!");return e.push(t),e},computerAttack:function(){for(var t=h.range(1,11),c=h.range(65,75).map((function(e){return String.fromCharCode(e)})),a=t.map((function(e){return c.map((function(t){return"".concat(t).concat(e)}))}));;){var r=Math.floor(10*Math.random()),n=Math.floor(10*Math.random()),s=a[r][n];if(!e.includes(s))return e.push(s),e}},attacks:e}};var b=function(){var e=Object(a.useState)(f()),t=Object(i.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(f()),s=Object(i.a)(n,2),u=s[0],o=s[1],m=Object(a.useState)(p()),h=Object(i.a)(m,2),b=h[0],v=h[1],O=Object(a.useState)(p()),k=Object(i.a)(O,2),C=k[0],x=k[1],g=Object(a.useState)(!0),A=Object(i.a)(g,2),S=A[0],N=A[1],B=Object(a.useState)(0),y=Object(i.a)(B,2),E=y[0],M=y[1],H=[["A1","A2","A3","A4"],["B1","B2","B3"],["C1","C2","C3"],["D1","D2"],["E1","E2"],["F1","F2"],["G1"],["H1"],["I1"],["J1"]],I=[["J7","J8","J9","J10"],["I8","I9","I10"],["H8","H9","H10"],["G9","G10"],["F9","F10"],["E9","E10"],["D10"],["C10"],["B10"],["A10"]],P=function(e,t){"Player"===e?t.forEach((function(e){c.placeShip(e,j(e.length)),r(c)})):t.forEach((function(e){u.placeShip(e,j(e.length)),o(u)}))};Object(a.useEffect)((function(){0===E&&(P("Player",H),P("Computer",I))})),Object(a.useEffect)((function(){if(u.allShipsSunk())return alert("Game over! Humans won!"),void T();setTimeout((function(){return function(){if(c.allShipsSunk())return alert("Game over! The Computers won!"),void T();if(!1===S){var e=Object.assign({},C),t=Object.assign({},c),a=e.computerAttack(),n=a.slice(a.length-1);t.receiveAttack(n[0]),r(t),x(e),N(!0),M(E+=1)}}()}),0)}),[S]);var T=function(){N(!0),v(p()),x(p()),r(f()),o(f()),M(0)};return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("div",{className:"Header",children:Object(l.jsx)("h1",{children:"Battleship"})}),S?Object(l.jsx)("div",{className:"Turn",children:"Your Turn!"}):Object(l.jsx)("div",{className:"Turn",children:"Computer's Turn!"}),Object(l.jsx)(d,{playerBoard:c,computerBoard:u,handlePlayerTurn:function(e){if(S){var t=Object.assign({},b),c=Object.assign({},u);try{c.receiveAttack(e),t.humanAttack(e),N(!1),v(t),o(c),M(E+=1)}catch(a){alert(a.message)}}}})]})};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.efa7ac42.chunk.js.map